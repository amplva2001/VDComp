:root{
  --bg: #fafafa;
  --grid-line: #cfcfcf;
  --muted: #666;
  --palette-selected: #2b88ff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);font-family:Inter, Arial, Helvetica, sans-serif;color:#111}
#app{min-height:100%;display:flex;flex-direction:column;align-items:center;padding:28px 32px 36px}

main{width:100%;max-width:1200px;display:flex;flex-direction:column;align-items:center;gap:18px}

/* stage area */
#stageWrap{background:#fff;border:1px solid #eee;padding:20px 20px 40px;box-shadow:none;width:100%}
#stage{display:block;width:100%;height:640px;background:transparent;cursor:crosshair;}

/* caption centered below the grid */
#caption{width:100%;text-align:center;margin-top:10px;font-family:'Courier New',monospace;font-size:14px;color:#222;letter-spacing:0.08em}

/* palette row below caption */
#paletteRow{display:flex;align-items:center;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:6px}
.image-palette{display:flex;gap:12px;align-items:center;justify-content:center}
.image-palette button{border:2px solid transparent;padding:6px;background:transparent;border-radius:6px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
.image-palette button img{width:72px;height:40px;object-fit:cover;border-radius:4px;display:block}
.image-palette button.selected{border-color:var(--palette-selected);box-shadow:0 0 0 6px rgba(43,136,255,0.09);}

/* controls row */
#controlsRow{display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap;margin-top:4px}
#controlsRow label{font-size:13px;color:var(--muted)}
#controlsRow input[type="number"]{width:72px;padding:6px;border-radius:6px;border:1px solid #ddd}
#controlsRow input[type="color"]{width:36px;height:32px;border:none;padding:0;background:#fff;border-radius:6px}
#controlsRow button{padding:6px 10px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer}

/* hint */
#hint{font-size:13px;color:var(--muted);text-align:center;margin-top:6px}

/* small */
.small{padding:6px 10px;border-radius:8px;border:1px solid #ddd;background:#fff;cursor:pointer}

/* responsive */
@media (max-width:840px){
  #stage{height:520px}
  .image-palette button img{width:56px;height:34px}
  #controlsRow input[type="number"]{width:56px}
}